// ------------------------------------
// Dropdown mixin quarks
// This might be a temporary workaround but as for now we use similar dropdown layouts in different places,
// with different class names and elements. Thus creating a quark-mixin abstraction probably makes sense
// ------------------------------------
/// @access private
// ------------------------------------

@import '../config/all';
@import 'positioning'; // pulling in z()

@mixin arrow($direction: 'top', $color: cssvar(box-bg-color)) {
  width: 0;
  height: 0;
  @if $direction == 'top' {
    border-top: 0;
    border-right: 6px solid transparent;
    border-bottom: 6px solid $color;
    border-left: 6px solid transparent;
  }
  @if $direction == 'bottom' {
    border-top: 6px solid $color;
    border-right: 6px solid transparent;
    border-bottom: 0;
    border-left: 6px solid transparent;
  }
  @if $direction == 'left' {
    border-top: 6px solid transparent;
    border-right: 6px solid $color;
    border-bottom: 6px solid transparent;
    border-left: 0;
  }
  @if $direction == 'right' {
    border-top: 6px solid transparent;
    border-right: 0;
    border-bottom: 6px solid transparent;
    border-left: 6px solid $color;
  }
  content: '';
}

// arrow quark to be shared among dropdown, header sub-navigation, tooltip and hint elements
@mixin dropdown-arrow {
  @include arrow('top');

  position: absolute;
  top: -6px;
  left: 50%;
  width: 0;
  height: 0;
  transform: translateX(-50%);
  content: '';
}

// dropdown main container box
@mixin dropdown-box($dropdown-width: 250px) {
  display: none;
  position: absolute;
  top: 100%;
  left: 50%;
  width: $dropdown-width;
  max-height: none;
  margin-left: (- $dropdown-width / 2);
  padding: cssvar(spacing-xs) 0;
  border-radius: cssvar(primary-border-radius);
  background: cssvar(box-bg-color);
  list-style: none;
  text-align: left;
  box-shadow: cssvar(primary-box-shadow);
  overflow: visible;
  z-index: z('dropdown');


  // dropdown is hidden by default, open modifier shows it if needed
  &--open {
    display: block;
  }
}

// dropdown menu item
@mixin dropdown-item {
  margin-bottom: 0;
  line-height: cssvar(line-height-primary);
}

// dropdown link or button
@mixin dropdown-link {
  display: block;
  position: relative;
  width: 100%;
  padding: cssvar(spacing-xxs) cssvar(spacing-sm);
  color: cssvar(primary-content-color);
  font-size: cssvar(font-size-primary);
  font-weight: cssvar(font-weight-semibold);
  text-decoration: none;
  cursor: pointer;

  &:hover,
  &--active {
    color: cssvar(strong-highlight-color);

    &::before {
      position: absolute;
      top: 0;
      bottom: 0;
      left: 0;
      border-left: cssvar(spacing-xxxs) solid cssvar(strong-highlight-color);
      content: '';
    }
  }
}
