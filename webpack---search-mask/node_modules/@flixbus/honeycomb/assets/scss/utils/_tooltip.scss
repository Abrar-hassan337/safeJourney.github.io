// ----------------------------------------------
// ! Attention !
//   These tooltip mixins are shared between
//   tooltips and hints
// ----------------------------------------------

// style variables
$tooltip-bg-color: cssvar(box-bg-color);
$tooltip-error-bg-color: cssvar(danger-color);
$tooltip-font-size: cssvar(font-size-primary);
$tooltip-font-color: cssvar(primary-content-color);
$tooltip-font-weight: cssvar(font-weight-semibold);
$tooltip-error-font-color: cssvar(primary-bg-color);
$tooltip-border: cssvar(grayscale-50-color);
$tooltip-box-shadow: cssvar(primary-box-shadow);
$tooltip-arrow-shadow-color: rgba(0, 0, 0, .05); // a lighter shadow makes it better
$tooltip-border-radius: cssvar(primary-border-radius);

// Tooltip dimensions and z-index
@mixin tooltip {
  position: absolute;
  width: 250px;
  min-height: 44px;
  padding: cssvar(spacing-xs);
  color: $tooltip-font-color;
  font-family: inherit;
  font-size: $tooltip-font-size;
  text-decoration: none; // prevents underlined text for tooltips assigned to a link
  z-index: z(dropdown);

  &::before {
    @include tooltip-background();
  }
}

// Tooltip layered-faux-background
// Use padding as tooltip spacing
// without affecting the background.
// can't use margin in order to enable mouse over events
@mixin tooltip-background {
  position: absolute;
  top: 0;
  right: 0;
  bottom: 0;
  left: 0;
  border-radius: $tooltip-border-radius;
  background: $tooltip-bg-color;
  box-shadow: $tooltip-box-shadow;
  content: '';
}

@mixin tooltip-error-state {
  color: $tooltip-error-font-color;

  &::before {
    background: $tooltip-error-bg-color;
  }
}

// Tooltip position rules
@mixin tooltip-position-left {
  right: 100%;
  left: auto;
  padding-right: cssvar(spacing-sm);
  padding-left: cssvar(spacing-xs);

  &::before {
    right: cssvar(spacing-xs);
    left: 0;
  }
}

@mixin tooltip-position-right {
  left: 100%;
  padding-left: cssvar(spacing-sm);

  &::before {
    left: cssvar(spacing-xs);
  }
}

@mixin tooltip-position-top {
  top: auto;
  bottom: 100%;
  padding-bottom: cssvar(spacing-sm);
  padding-left: cssvar(spacing-xs);

  &::before {
    bottom: cssvar(spacing-xs);
    left: 0;
  }
}

@mixin tooltip-position-bottom {
  top: 100%;
  bottom: auto;
  padding-top: cssvar(spacing-sm);
  padding-left: cssvar(spacing-xs);

  &::before {
    top: cssvar(spacing-xs);
    left: 0;
  }
}

// Tooltip horizontal alignment rules
@mixin tooltip-alignment-start-x {
  left: 50%;
  transform: translateX(calc(-1 * #{cssvar(spacing-sm)}));
}

@mixin tooltip-alignment-center-x {
  left: 50%;
  transform: translateX(-50%);
}

@mixin tooltip-alignment-end-x {
  right: 50%;
  left: auto;
  transform: translateX(cssvar(spacing-sm));
}

// Tooltip vertical alignment rules
@mixin tooltip-alignment-start-y {
  top: calc(-1 * #{cssvar(spacing-xxs)});
  bottom: auto;
  transform: none;
}

@mixin tooltip-alignment-center-y {
  top: 50%;
  bottom: auto;
  transform: translateY(-50%);
}

@mixin tooltip-alignment-end-y {
  top: auto;
  bottom: calc(-1 * #{cssvar(spacing-xxs)});
  transform: none;
}

// Arrow position rules
@mixin arrow-position-left {
  right: auto;
  left: cssvar(spacing-xxs);
}

@mixin arrow-position-right {
  right: cssvar(spacing-xxs);
  left: auto;
}

@mixin arrow-position-top {
  top: cssvar(spacing-xxs);
  bottom: auto;
}

@mixin arrow-position-bottom {
  top: auto;
  bottom: cssvar(spacing-xxs);
}

// Arrow horizontal alignment rules
@mixin arrow-alignment-start-x {
  left: cssvar(spacing-smxs);
  transform: none;
}

@mixin arrow-alignment-center-x {
  right: auto;
  left: 50%;
  transform: translateX(-50%);
}

@mixin arrow-alignment-end-x {
  right: cssvar(spacing-smxs);
  left: auto;
  transform: none;
}

// Arrow vertical alignment rules
@mixin arrow-alignment-start-y {
  top: cssvar(spacing-smxs);
  transform: none;
}

@mixin arrow-alignment-center-y {
  top: 50%;
  bottom: auto;
  transform: translateY(-50%);
}

@mixin arrow-alignment-end-y {
  top: auto;
  bottom: cssvar(spacing-smxs);
  transform: none;
}
